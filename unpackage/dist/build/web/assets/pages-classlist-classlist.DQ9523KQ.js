import{b as a,y as s,s as e,z as l,d as t,e as i,a as u,w as o,c as n,q as r,F as d,i as c,o as p,f as m,l as g,j as f}from"./index-BU6XvaeG.js";import{_ as v}from"./uni-load-more.BDaV7Gsh.js";import{g as _,h as y,i as h,j,o as L,a as w,k as $,r as k}from"./apis.Dx-aVJJ7.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=C({__name:"classlist",setup(C){const b={pageNum:1,pageSize:12},x=a(!1);let z;_((a=>{const{id:e=null,name:l=null,type:t=null}=a;t&&(b.type=t),e&&(b.classid=e),z=l,s({title:l}),F()})),y((()=>{x.value||(b.pageNum++,F())}));const q=a([]),F=async()=>{let a;b.classid&&(a=await h(b)),b.type&&(a=await j(b)),q.value=[...q.value,...a.data],b.pageSize>a.data.length&&(x.value=!0),e("storageClassList",q.value)};return L((a=>({title:`CoffeeLin壁纸-${z}`,path:`/pages/classlist/classlist?id=${b.classid}&name=${z}`}))),w((()=>({title:"CoffeeLin壁纸",query:`id=${b.classid}&name=${z}`}))),$((()=>{l("storageClassList")})),(a,s)=>{const e=k(t("uni-load-more"),v),l=c,_=g,y=f;return p(),i(d,null,[u(l,{class:"classlist"},{default:o((()=>[q.value.length||x.value?r("",!0):(p(),n(l,{key:0,class:"loadingLayout"},{default:o((()=>[u(e,{status:"loading"})])),_:1})),u(l,{class:"content"},{default:o((()=>[(p(!0),i(d,null,m(q.value,(a=>(p(),n(y,{url:"/pages/preview/preview?id="+a._id,class:"item",key:a._id},{default:o((()=>[u(_,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1})])),_:1}),q.value.length||x.value?(p(),n(l,{key:0,class:"loadingLayout"},{default:o((()=>[u(e,{status:x.value?"noMore":"loading"},null,8,["status"])])),_:1})):r("",!0),u(l,{class:"safe-area-inset-bottom"})],64)}}},[["__scopeId","data-v-41946964"]]);export{b as default};
